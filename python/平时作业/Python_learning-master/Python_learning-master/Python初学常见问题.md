## Python初学常见问题（不定期更新）

最近答了挺多 python 相关问题，将遇到的常见问题整理一下。

如果你能自己看懂报错那最好

不建议拍屏

![image-20211022000013346](https://img.wzf2000.top/image/2021/10/22/image-20211022000013346.png)

windows 截图快捷键 `windows+shift+s` （`windows` 是左下角那个用来打开开始菜单的 windows 标志）

微信截图快捷键 `alt+a` 

qq 截图快捷键 `ctrl+alt+a` 

截图之后图片会在你的剪贴板，不需要保存再上传，直接 `ctrl+v` 就行了

没有 mac 不知道快捷键

#### 1.运行相关

终端运行

如以下代码

```python
a=int(input())
b=int(input())
print(a+b)
```

![image-20211021233514237](https://img.wzf2000.top/image/2021/10/21/image-20211021233514237.png)

如图，由于是在交互式情况下直接复制粘贴的，导致在第一行之后的第二行被当作第一行需要的输入而发生错误

建议事先写好脚本文件之后运行

IDLE 同理

![image-20211021233806807](https://img.wzf2000.top/image/2021/10/21/image-20211021233806807.png)

注意是否处于交互式即前面是否有 '>>>' 提示符

![image-20211021233850630](https://img.wzf2000.top/image/2021/10/21/image-20211021233850630.png)

IDLE 新建脚本的位置

![image-20211021233928984](https://img.wzf2000.top/image/2021/10/21/image-20211021233928984.png)

建立脚本之后保存

有条件的话建议使用好用一点的IDE，所以如果你用的是其他 IDE ,以上可以当作废话，当然当你看到这句话的时候估计上面的也看完了

vscode

![image-20211021234245345](https://img.wzf2000.top/image/2021/10/21/image-20211021234245345.png)

可以发现运行了之后并没有预想之中的结果

观察发现左上角文件右侧有个小白点，这是修改后没有保存的标志，所以运行不出结果

建议用 vsc 的同学养成 `ctrl+s` 的习惯，捎带一提，运行的快捷键是 `ctrl+alt+N` ,所以编写完可以 `ctrl+s` 后 `ctrl+alt+N` 而不再动鼠标运行代码（买不起 mac所以不知道 mac 的快捷键）

同时不建议使用中文路径或者在代码里使用中文即使是注释（虽然我这里路径是中文）

pycharm

![image-20211021234856205](https://img.wzf2000.top/image/2021/10/21/image-20211021234856205.png)

使用 pycharm 打开脚本，运行后的结果却文不对题

因为右上角按钮默认运行的是 `main.py` ，即 pycharm 自带的欢迎模板

需要运行的话右键在菜单里选择或者快捷键 `ctrl+shift+F10` 

捎带一提需要去掉 `main.py` 的话，新建工程时

![image-20211021235522826](https://img.wzf2000.top/image/2021/10/21/image-20211021235522826.png)

把这个框去掉

anaconda 和其他的 IDE

没用过不知道

#### 2.符号中英文

不要用**中文**标点！

不要用**中文**标点！

不要用**中文**标点！

![image-20211022000321658](https://img.wzf2000.top/image/2021/10/22/image-20211022000321658.png)

这里中文冒号在 vsc 报错里很明显，别的 ide 自己看吧

也有注释一半英文一半中文然后把后面所有代码全部注释掉的情况

#### 3.下标越界

列表的下标是从 0 开始的，一个有 10 个元素的列表索引最大是 9

![image-20211022000707098](https://img.wzf2000.top/image/2021/10/22/image-20211022000707098.png)

#### 4.缩进

在使用循环分支判断等语句时，不同于其他语言用大括号来表示语句块，Python 通过缩进确定结构，保证你的语句的缩进正确（一般情况下 ide 会帮你搞定）

比如数组求和

```python
lst=[3,1,4,1,5,9]
sum=0
for item in lst:
    sum+=item
    print(sum)
```

这里应该将 sum 总的算出来以后再 print ，可是却缩进了，导致循环内每次都会执行 print

正确的应该将 print 顶格写

#### 5.切片

![image-20211022001407937](https://img.wzf2000.top/image/2021/10/22/image-20211022001407937.png)

倒着切应该把步长改为 -1,缺省为 1

正确为 `s[-1:-3:-1]`

#### 6. python 版本

![image-20211022001810778](https://img.wzf2000.top/image/2021/10/22/image-20211022001810778.png)

输出为什么带着引号和逗号

因为是 python2

![image-20211022001907282](https://img.wzf2000.top/image/2021/10/22/image-20211022001907282.png)

换到 python3 就好了

#### 7.赋值 = 和比较 ==

`=` 是赋值，如 `a=(expr)`

符号左端为变量，右端为表达式，赋值表示计算出此刻右端的值，赋给左端的变量，而不是表示一个类似于函数的始终相等的关系

比如

```python
b=3
a=b+1
```

就不能写为

```python
a=b+1
b=3
```



`==`  用来比较符号左右两端是否相等，如相等返回 `True` ，否则返回 `False` ，常用于判断语句中

`==` 和 `=` 不要混用

#### 8.input 

`input`  接收字符串，不要把接受来的直接用于数值计算，需要通过 `int` `float` `eval` 等函数转换类型之后再计算

一个`input` 只能接收一行字符，如果接收多行字符需要用多个 `input` 

如果需要用一个 input 读取分隔的列表可以用字符串的 `split` 函数

`input().split()` split 的参数为分隔符，不要忘记加引号，缺省为空字符

![image-20211022004933147](https://img.wzf2000.top/image/2021/10/22/image-20211022004933147.png)

#### 9.range 和 rand

`range` 是左闭右开的

`random.uniform` 和 `random.randint` 是左闭右闭的，同时列表的切片也是左闭右开的

#### 10.列表的修改

有一个列表，而我们需要对里面的元素逐项修改

于是就出现了以下操作

![image-20211023024802672](https://img.wzf2000.top/image/2021/10/23/image-20211023024802672.png)

可以发现 `lst` 纹丝不动

这里是因为当用 for 去遍历一个列表时，提取出来的其实是列表中元素的拷贝，与原列表中的元素是相互独立的，只是值相同

所以当需要去修改列表中的值时，需要使用下标去修改，如下

![image-20211023025219264](https://img.wzf2000.top/image/2021/10/23/image-20211023025219264.png)

捎带一提，如果列表内的元素也是列表时，拷贝过来的其实是子列表的首地址，指向的是同一个子列表（浅拷贝），所以对其可以直接修改

![image-20211023025454864](https://img.wzf2000.top/image/2021/10/23/image-20211023025454864.png)

#### 11.列表的删除

如果我们想要删除列表中的某一项，根据上一则，直接 for 就会

![image-20211023025936640](https://img.wzf2000.top/image/2021/10/23/image-20211023025936640.png)

那么用下标呢

![image-20211023030051025](https://img.wzf2000.top/image/2021/10/23/image-20211023030051025.png)

很明显，越界了，这是因为操作过程中列表的长度改变了，而 range 没有改变

那么如果用 remove 来避免下标呢（为了移除多个数所以用循环，这里例子加了个4）

![image-20211023030516824](https://img.wzf2000.top/image/2021/10/23/image-20211023030516824.png)

可以发现只移除了一个4

是因为当 remove 的同时迭代器指向了下一项，一进一退就把第二个4错开了

实际上可以用 while 进行删除

![image-20211023031353675](https://img.wzf2000.top/image/2021/10/23/image-20211023031353675.png)

此外，倒着 for 遍历就不会有下标越界的风险

![image-20211023031531785](https://img.wzf2000.top/image/2021/10/23/image-20211023031531785.png)

